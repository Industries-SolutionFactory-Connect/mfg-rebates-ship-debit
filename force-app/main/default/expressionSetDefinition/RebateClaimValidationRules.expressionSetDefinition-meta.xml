<?xml version="1.0" encoding="UTF-8"?>
<ExpressionSetDefinition xmlns="http://soap.sforce.com/2006/04/metadata">
    <label>RebateClaimValidationRules</label>
    <processType>Bre</processType>
    <template>false</template>
    <versions>
        <fullName>RebateClaimValidationRules_V1</fullName>
        <description>Validates and calculates rebate claims and claim aggregates for a ship and debit program.</description>
        <expressionSetDefinition>RebateClaimValidationRules</expressionSetDefinition>
        <label>Validate and Calculate Rebate Claim and Claim Aggregate</label>
        <processType>Bre</processType>
        <shouldShowExplExternally>false</shouldShowExplExternally>
        <startDate>2023-03-01T00:00:00.000Z</startDate>
        <status>Active</status>
        <steps>
            <actionType>AssignParameterValues</actionType>
            <assignment>
                <assignedParameter>Program_EndDate</assignedParameter>
                <expression>ADDDAY ( Program_EndDate , Program_GraceDays )</expression>
            </assignment>
            <description>Adds grace days to the end date of a rebate program.</description>
            <label>Add Grace Days to End Date</label>
            <name>AddGraceDaystoEndDate</name>
            <resultIncluded>false</resultIncluded>
            <sequenceNumber>1</sequenceNumber>
            <shouldExposExecPathMsgOnly>true</shouldExposExecPathMsgOnly>
            <shouldExposeConditionDetails>false</shouldExposeConditionDetails>
            <shouldShowExplExternally>false</shouldShowExplExternally>
            <stepType>BusinessKnowledgeModel</stepType>
        </steps>
        <steps>
            <actionType>AssignParameterValues</actionType>
            <assignment>
                <assignedParameter>Claim_Status</assignedParameter>
                <expression>&quot;System Failed&quot;</expression>
            </assignment>
            <description>Applies the System Failed processing status to the rebate claim.</description>
            <label>Apply Failed Claim Status</label>
            <name>ApplyFailedClaimStatus</name>
            <parentStep>DefaultLane</parentStep>
            <resultIncluded>true</resultIncluded>
            <sequenceNumber>1</sequenceNumber>
            <shouldExposExecPathMsgOnly>true</shouldExposExecPathMsgOnly>
            <shouldExposeConditionDetails>false</shouldExposeConditionDetails>
            <shouldShowExplExternally>false</shouldShowExplExternally>
            <stepType>BusinessKnowledgeModel</stepType>
        </steps>
        <steps>
            <actionType>AssignParameterValues</actionType>
            <assignment>
                <assignedParameter>Claim_Status</assignedParameter>
                <expression>&quot;System Processed&quot;</expression>
            </assignment>
            <description>Applies the System Processed processing status to the rebate claim.</description>
            <label>Apply Processed Claim Status</label>
            <name>ApplyProcessedClaimStatus</name>
            <parentStep>CheckIfClaimProcessed</parentStep>
            <resultIncluded>true</resultIncluded>
            <sequenceNumber>1</sequenceNumber>
            <shouldExposExecPathMsgOnly>true</shouldExposExecPathMsgOnly>
            <shouldExposeConditionDetails>false</shouldExposeConditionDetails>
            <shouldShowExplExternally>false</shouldShowExplExternally>
            <stepType>BusinessKnowledgeModel</stepType>
        </steps>
        <steps>
            <label>Branch</label>
            <name>Branch</name>
            <resultIncluded>false</resultIncluded>
            <sequenceNumber>9</sequenceNumber>
            <shouldExposExecPathMsgOnly>true</shouldExposExecPathMsgOnly>
            <shouldExposeConditionDetails>false</shouldExposeConditionDetails>
            <shouldShowExplExternally>false</shouldShowExplExternally>
            <stepType>Branch</stepType>
        </steps>
        <steps>
            <label>Branch</label>
            <name>Branch31</name>
            <resultIncluded>false</resultIncluded>
            <sequenceNumber>11</sequenceNumber>
            <shouldExposExecPathMsgOnly>true</shouldExposExecPathMsgOnly>
            <shouldExposeConditionDetails>false</shouldExposeConditionDetails>
            <shouldShowExplExternally>false</shouldShowExplExternally>
            <stepType>Branch</stepType>
        </steps>
        <steps>
            <actionType>AssignParameterValues</actionType>
            <assignment>
                <assignedParameter>PricingTerm_Discount</assignedParameter>
                <expression>PricingTerm_SalePricePerUnit * PricingTerm_Discount / 100</expression>
            </assignment>
            <description>Calculates the discount amount based on the discount percent.</description>
            <label>Calculate Discount Amount with Discount Percent</label>
            <name>CalculateDiscountAmountwithDiscountPercent</name>
            <parentStep>CheckIfDiscountIsInPercent</parentStep>
            <resultIncluded>false</resultIncluded>
            <sequenceNumber>1</sequenceNumber>
            <shouldExposExecPathMsgOnly>true</shouldExposExecPathMsgOnly>
            <shouldExposeConditionDetails>false</shouldExposeConditionDetails>
            <shouldShowExplExternally>false</shouldShowExplExternally>
            <stepType>BusinessKnowledgeModel</stepType>
        </steps>
        <steps>
            <conditionExpression>
                <expression>IsSuccess == true &amp;&amp; PricingTerm_ReferenceUnitPrice &gt; 0</expression>
                <resultParameter>condition_output__15</resultParameter>
            </conditionExpression>
            <description>Checks if the reference unit price is provided.</description>
            <label>Calculate Discount Amount with Reference Price</label>
            <name>CalculateDiscountAmountwithReferencePrice</name>
            <parentStep>Branch</parentStep>
            <resultIncluded>false</resultIncluded>
            <sequenceNumber>2</sequenceNumber>
            <shouldExposExecPathMsgOnly>true</shouldExposExecPathMsgOnly>
            <shouldExposeConditionDetails>false</shouldExposeConditionDetails>
            <shouldShowExplExternally>false</shouldShowExplExternally>
            <stepType>Condition</stepType>
        </steps>
        <steps>
            <actionType>AssignParameterValues</actionType>
            <assignment>
                <assignedParameter>PricingTerm_Discount</assignedParameter>
                <expression>PricingTerm_SalePricePerUnit - PricingTerm_ReferenceUnitPrice</expression>
            </assignment>
            <description>Calculates the discount amount based on the reference price per unit.</description>
            <label>Calculate Discount Amount with Reference Price</label>
            <name>CalculateDiscountAmountwithReferencePrice26</name>
            <parentStep>CalculateDiscountAmountwithReferencePrice</parentStep>
            <resultIncluded>false</resultIncluded>
            <sequenceNumber>1</sequenceNumber>
            <shouldExposExecPathMsgOnly>true</shouldExposExecPathMsgOnly>
            <shouldExposeConditionDetails>false</shouldExposeConditionDetails>
            <shouldShowExplExternally>false</shouldShowExplExternally>
            <stepType>BusinessKnowledgeModel</stepType>
        </steps>
        <steps>
            <actionType>AssignParameterValues</actionType>
            <assignment>
                <assignedParameter>CalculatedPayoutAmount</assignedParameter>
                <expression>PricingTerm_Discount * Claim_Quantity</expression>
            </assignment>
            <description>Calculates the payout amount of rebate claim.</description>
            <label>Calculate Payout Amount</label>
            <name>CalculatePayoutAmount</name>
            <parentStep>CheckWhethertoCalculateClaimandClaimAggregateValues</parentStep>
            <resultIncluded>true</resultIncluded>
            <sequenceNumber>1</sequenceNumber>
            <shouldExposExecPathMsgOnly>true</shouldExposExecPathMsgOnly>
            <shouldExposeConditionDetails>false</shouldExposeConditionDetails>
            <shouldShowExplExternally>false</shouldShowExplExternally>
            <stepType>BusinessKnowledgeModel</stepType>
        </steps>
        <steps>
            <actionType>AssignParameterValues</actionType>
            <assignment>
                <assignedParameter>Proposed_ClaimAggregate_Quantity</assignedParameter>
                <expression>Claim_Quantity + ClaimAggregate_Quantity</expression>
            </assignment>
            <description>Calculates the proposed total claimed quantity of the rebate member claim aggregate.</description>
            <label>Calculate Proposed Total Claimed Quantity</label>
            <name>CalculateProposedTotalClaimedQuantity</name>
            <resultIncluded>false</resultIncluded>
            <sequenceNumber>2</sequenceNumber>
            <shouldExposExecPathMsgOnly>true</shouldExposExecPathMsgOnly>
            <shouldExposeConditionDetails>false</shouldExposeConditionDetails>
            <shouldShowExplExternally>false</shouldShowExplExternally>
            <stepType>BusinessKnowledgeModel</stepType>
        </steps>
        <steps>
            <actionType>AssignParameterValues</actionType>
            <assignment>
                <assignedParameter>ClaimAggregate_Amount</assignedParameter>
                <expression>CalculatedPayoutAmount + ClaimAggregate_Amount</expression>
            </assignment>
            <description>Calculates the total claimed amount of the rebate member claim aggregate.</description>
            <label>Calculate Total Claimed Amount</label>
            <name>CalculateTotalClaimedAmount</name>
            <parentStep>CheckWhethertoCalculateClaimandClaimAggregateValues</parentStep>
            <resultIncluded>true</resultIncluded>
            <sequenceNumber>3</sequenceNumber>
            <shouldExposExecPathMsgOnly>true</shouldExposExecPathMsgOnly>
            <shouldExposeConditionDetails>false</shouldExposeConditionDetails>
            <shouldShowExplExternally>false</shouldShowExplExternally>
            <stepType>BusinessKnowledgeModel</stepType>
        </steps>
        <steps>
            <actionType>AssignParameterValues</actionType>
            <assignment>
                <assignedParameter>ClaimAggregate_Quantity</assignedParameter>
                <expression>Proposed_ClaimAggregate_Quantity</expression>
            </assignment>
            <description>Calculates the total claimed quantity of the rebate member claim aggregate.</description>
            <label>Calculate Total Claimed Quantity</label>
            <name>CalculateTotalClaimedQuantity</name>
            <parentStep>CheckWhethertoCalculateClaimandClaimAggregateValues</parentStep>
            <resultIncluded>true</resultIncluded>
            <sequenceNumber>2</sequenceNumber>
            <shouldExposExecPathMsgOnly>true</shouldExposExecPathMsgOnly>
            <shouldExposeConditionDetails>false</shouldExposeConditionDetails>
            <shouldShowExplExternally>false</shouldShowExplExternally>
            <stepType>BusinessKnowledgeModel</stepType>
        </steps>
        <steps>
            <advancedCondition>
                <conditionLogic>1</conditionLogic>
                <criteria>
                    <operator>Equals</operator>
                    <sequenceNumber>1</sequenceNumber>
                    <sourceFieldName>IsSuccess</sourceFieldName>
                    <value>true</value>
                    <valueType>Literal</valueType>
                </criteria>
                <resultParameter>condition_output__21</resultParameter>
            </advancedCondition>
            <description>Checks if the rebate claim was processed.</description>
            <label>Check If Claim Processed</label>
            <name>CheckIfClaimProcessed</name>
            <parentStep>Branch31</parentStep>
            <resultIncluded>false</resultIncluded>
            <sequenceNumber>1</sequenceNumber>
            <shouldExposExecPathMsgOnly>true</shouldExposExecPathMsgOnly>
            <shouldExposeConditionDetails>false</shouldExposeConditionDetails>
            <shouldShowExplExternally>false</shouldShowExplExternally>
            <stepType>AdvancedCondition</stepType>
        </steps>
        <steps>
            <conditionExpression>
                <expression>IsSuccess == true &amp;&amp; PricingTerm_IsDiscountByPercent == true &amp;&amp; PricingTerm_Discount &gt; 0</expression>
                <resultParameter>condition_output__13</resultParameter>
            </conditionExpression>
            <description>Checks if the discount is a percentage value.</description>
            <label>Check If Discount Is In Percent</label>
            <name>CheckIfDiscountIsInPercent</name>
            <parentStep>Branch</parentStep>
            <resultIncluded>false</resultIncluded>
            <sequenceNumber>1</sequenceNumber>
            <shouldExposExecPathMsgOnly>true</shouldExposExecPathMsgOnly>
            <shouldExposeConditionDetails>false</shouldExposeConditionDetails>
            <shouldShowExplExternally>false</shouldShowExplExternally>
            <stepType>Condition</stepType>
        </steps>
        <steps>
            <advancedCondition>
                <conditionLogic>1 AND  ( 2 OR 3 )</conditionLogic>
                <criteria>
                    <operator>Equals</operator>
                    <sequenceNumber>1</sequenceNumber>
                    <sourceFieldName>IsSuccess</sourceFieldName>
                    <value>true</value>
                    <valueType>Literal</valueType>
                </criteria>
                <criteria>
                    <operator>GreaterThan</operator>
                    <sequenceNumber>2</sequenceNumber>
                    <sourceFieldName>PricingTermBenefit_ReferenceUnitPrice</sourceFieldName>
                    <value>0</value>
                    <valueType>Literal</valueType>
                </criteria>
                <criteria>
                    <operator>GreaterThan</operator>
                    <sequenceNumber>3</sequenceNumber>
                    <sourceFieldName>PricingTermBenefit_Discount</sourceFieldName>
                    <value>0</value>
                    <valueType>Literal</valueType>
                </criteria>
                <resultParameter>condition_output__17</resultParameter>
            </advancedCondition>
            <description>Checks if any special pricing term benefits are associated with the special pricing term.</description>
            <label>Check If Special Pricing Term Benefits Defined</label>
            <name>CheckIfSpecialPricingTermBenefitsDefined</name>
            <resultIncluded>false</resultIncluded>
            <sequenceNumber>8</sequenceNumber>
            <shouldExposExecPathMsgOnly>true</shouldExposExecPathMsgOnly>
            <shouldExposeConditionDetails>false</shouldExposeConditionDetails>
            <shouldShowExplExternally>false</shouldShowExplExternally>
            <stepType>AdvancedCondition</stepType>
        </steps>
        <steps>
            <advancedCondition>
                <conditionLogic>1</conditionLogic>
                <criteria>
                    <operator>GreaterThan</operator>
                    <sequenceNumber>1</sequenceNumber>
                    <sourceFieldName>Proposed_ClaimAggregate_Quantity</sourceFieldName>
                    <value>PricingTerm_Quantity</value>
                    <valueType>Parameter</valueType>
                </criteria>
                <resultParameter>condition_output__18</resultParameter>
            </advancedCondition>
            <description>Checks if the proposed total claimed quantity is greater than the product quantity of the special pricing term.</description>
            <label>Check Proposed Total Claimed Quantity</label>
            <name>CheckProposedTotalClaimedQuantity</name>
            <resultIncluded>false</resultIncluded>
            <sequenceNumber>5</sequenceNumber>
            <shouldExposExecPathMsgOnly>true</shouldExposExecPathMsgOnly>
            <shouldExposeConditionDetails>false</shouldExposeConditionDetails>
            <shouldShowExplExternally>false</shouldShowExplExternally>
            <stepType>AdvancedCondition</stepType>
        </steps>
        <steps>
            <advancedCondition>
                <conditionLogic>1 OR 2</conditionLogic>
                <criteria>
                    <operator>GreaterThan</operator>
                    <sequenceNumber>1</sequenceNumber>
                    <sourceFieldName>Claim_ClaimDate</sourceFieldName>
                    <value>Program_EndDate</value>
                    <valueType>Parameter</valueType>
                </criteria>
                <criteria>
                    <operator>LessThan</operator>
                    <sequenceNumber>2</sequenceNumber>
                    <sourceFieldName>Claim_ClaimDate</sourceFieldName>
                    <value>Program_StartDate</value>
                    <valueType>Parameter</valueType>
                </criteria>
                <resultParameter>condition_output__16</resultParameter>
            </advancedCondition>
            <description>Checks if the claim date of the rebate claim is within the start and end dates of the rebate program.</description>
            <label>Check Rebate Claim Date</label>
            <name>CheckRebateClaimDate</name>
            <resultIncluded>false</resultIncluded>
            <sequenceNumber>4</sequenceNumber>
            <shouldExposExecPathMsgOnly>true</shouldExposExecPathMsgOnly>
            <shouldExposeConditionDetails>false</shouldExposeConditionDetails>
            <shouldShowExplExternally>false</shouldShowExplExternally>
            <stepType>AdvancedCondition</stepType>
        </steps>
        <steps>
            <advancedCondition>
                <conditionLogic>1 OR 2</conditionLogic>
                <criteria>
                    <operator>Equals</operator>
                    <sequenceNumber>1</sequenceNumber>
                    <sourceFieldName>Claim_Quantity</sourceFieldName>
                    <value>0</value>
                    <valueType>Literal</valueType>
                </criteria>
                <criteria>
                    <operator>Equals</operator>
                    <sequenceNumber>2</sequenceNumber>
                    <sourceFieldName>Claim_SalePricePerUnit</sourceFieldName>
                    <value>0</value>
                    <valueType>Literal</valueType>
                </criteria>
                <resultParameter>condition_output__23</resultParameter>
            </advancedCondition>
            <description>Checks if the mandatory values in the Rebate Claim record are specified.</description>
            <label>Check Rebate Claim Values</label>
            <name>CheckRebateClaimValues</name>
            <resultIncluded>false</resultIncluded>
            <sequenceNumber>3</sequenceNumber>
            <shouldExposExecPathMsgOnly>true</shouldExposExecPathMsgOnly>
            <shouldExposeConditionDetails>false</shouldExposeConditionDetails>
            <shouldShowExplExternally>false</shouldShowExplExternally>
            <stepType>AdvancedCondition</stepType>
        </steps>
        <steps>
            <advancedCondition>
                <conditionLogic>1</conditionLogic>
                <criteria>
                    <operator>NotEquals</operator>
                    <sequenceNumber>1</sequenceNumber>
                    <sourceFieldName>Claim_SalePricePerUnit</sourceFieldName>
                    <value>PricingTerm_SalePricePerUnit</value>
                    <valueType>Parameter</valueType>
                </criteria>
                <resultParameter>condition_output__26</resultParameter>
            </advancedCondition>
            <description>Checks if the sale price per unit is equal to the sale price per unit of the special pricing term.</description>
            <label>Check Sale Price Per Unit</label>
            <name>CheckSalePricePerUnit</name>
            <resultIncluded>false</resultIncluded>
            <sequenceNumber>6</sequenceNumber>
            <shouldExposExecPathMsgOnly>true</shouldExposExecPathMsgOnly>
            <shouldExposeConditionDetails>false</shouldExposeConditionDetails>
            <shouldShowExplExternally>false</shouldShowExplExternally>
            <stepType>AdvancedCondition</stepType>
        </steps>
        <steps>
            <advancedCondition>
                <conditionLogic>1</conditionLogic>
                <criteria>
                    <operator>Equals</operator>
                    <sequenceNumber>1</sequenceNumber>
                    <sourceFieldName>IsSuccess</sourceFieldName>
                    <value>true</value>
                    <valueType>Literal</valueType>
                </criteria>
                <resultParameter>condition_output__19</resultParameter>
            </advancedCondition>
            <description>Checks if the payout amount, total claimed quantity, and total claimed amount must be calculated based on the eligibility of the rebate claim and claim aggregates.</description>
            <label>Check Whether to Calculate Claim and Claim Aggregate Values</label>
            <name>CheckWhethertoCalculateClaimandClaimAggregateValues</name>
            <resultIncluded>false</resultIncluded>
            <sequenceNumber>10</sequenceNumber>
            <shouldExposExecPathMsgOnly>true</shouldExposExecPathMsgOnly>
            <shouldExposeConditionDetails>false</shouldExposeConditionDetails>
            <shouldShowExplExternally>false</shouldShowExplExternally>
            <stepType>AdvancedCondition</stepType>
        </steps>
        <steps>
            <actionType>AssignParameterValues</actionType>
            <assignment>
                <assignedParameter>IsSuccess</assignedParameter>
                <expression>false</expression>
            </assignment>
            <description>Sets the output variable as IsSuccess if the proposed total claimed quantity is less than the product quantity of the special pricing term.</description>
            <label>Confirm Eligible Proposed Total Claimed Quantity</label>
            <name>ConfirmEligibleProposedTotalClaimedQuantity</name>
            <parentStep>CheckProposedTotalClaimedQuantity</parentStep>
            <resultIncluded>false</resultIncluded>
            <sequenceNumber>2</sequenceNumber>
            <shouldExposExecPathMsgOnly>true</shouldExposExecPathMsgOnly>
            <shouldExposeConditionDetails>false</shouldExposeConditionDetails>
            <shouldShowExplExternally>false</shouldShowExplExternally>
            <stepType>BusinessKnowledgeModel</stepType>
        </steps>
        <steps>
            <actionType>AssignParameterValues</actionType>
            <assignment>
                <assignedParameter>IsSuccess</assignedParameter>
                <expression>false</expression>
            </assignment>
            <description>Sets the output variable as IsSuccess if all mandatory values are specified in the rebate claim.</description>
            <label>Confirm Specified Rebate Claim Values</label>
            <name>ConfirmSpecifiedRebateClaimValues</name>
            <parentStep>CheckRebateClaimValues</parentStep>
            <resultIncluded>false</resultIncluded>
            <sequenceNumber>2</sequenceNumber>
            <shouldExposExecPathMsgOnly>true</shouldExposExecPathMsgOnly>
            <shouldExposeConditionDetails>false</shouldExposeConditionDetails>
            <shouldShowExplExternally>false</shouldShowExplExternally>
            <stepType>BusinessKnowledgeModel</stepType>
        </steps>
        <steps>
            <actionType>AssignParameterValues</actionType>
            <assignment>
                <assignedParameter>IsSuccess</assignedParameter>
                <expression>false</expression>
            </assignment>
            <description>Sets the output variable as IsSuccess if the claim date of the rebate claim is within the start and end dates of the rebate program.</description>
            <label>Confirm Valid Rebate Claim Date</label>
            <name>ConfirmValidRebateClaimDate</name>
            <parentStep>CheckRebateClaimDate</parentStep>
            <resultIncluded>false</resultIncluded>
            <sequenceNumber>2</sequenceNumber>
            <shouldExposExecPathMsgOnly>true</shouldExposExecPathMsgOnly>
            <shouldExposeConditionDetails>false</shouldExposeConditionDetails>
            <shouldShowExplExternally>false</shouldShowExplExternally>
            <stepType>BusinessKnowledgeModel</stepType>
        </steps>
        <steps>
            <actionType>AssignParameterValues</actionType>
            <assignment>
                <assignedParameter>IsSuccess</assignedParameter>
                <expression>false</expression>
            </assignment>
            <description>Sets the output variable as IsSuccess if the  sale price per unit is not equal to the sale price per unit of the special pricing term.</description>
            <label>Confirm Valid Sale Price Per Unit</label>
            <name>ConfirmValidSalePricePerUnit</name>
            <parentStep>CheckSalePricePerUnit</parentStep>
            <resultIncluded>false</resultIncluded>
            <sequenceNumber>2</sequenceNumber>
            <shouldExposExecPathMsgOnly>true</shouldExposExecPathMsgOnly>
            <shouldExposeConditionDetails>false</shouldExposeConditionDetails>
            <shouldShowExplExternally>false</shouldShowExplExternally>
            <stepType>BusinessKnowledgeModel</stepType>
        </steps>
        <steps>
            <actionType>AssignParameterValues</actionType>
            <assignment>
                <assignedParameter>IsSuccess</assignedParameter>
                <expression>false</expression>
            </assignment>
            <description>Sets the output variable as IsSuccess if the ship to account of the the rebate claim is matching with rebate program member.</description>
            <label>Confirm Valid Ship To Account</label>
            <name>ConfirmValidShipToAccount</name>
            <parentStep>ReturnInvalidShipToAccountMessage</parentStep>
            <resultIncluded>false</resultIncluded>
            <sequenceNumber>2</sequenceNumber>
            <shouldExposExecPathMsgOnly>true</shouldExposExecPathMsgOnly>
            <shouldExposeConditionDetails>false</shouldExposeConditionDetails>
            <shouldShowExplExternally>false</shouldShowExplExternally>
            <stepType>BusinessKnowledgeModel</stepType>
        </steps>
        <steps>
            <label>Default Lane</label>
            <name>DefaultLane</name>
            <parentStep>Branch31</parentStep>
            <resultIncluded>false</resultIncluded>
            <sequenceNumber>2</sequenceNumber>
            <shouldExposExecPathMsgOnly>true</shouldExposExecPathMsgOnly>
            <shouldExposeConditionDetails>false</shouldExposeConditionDetails>
            <shouldShowExplExternally>false</shouldShowExplExternally>
            <stepType>DefaultPath</stepType>
        </steps>
        <steps>
            <actionType>AssignParameterValues</actionType>
            <assignment>
                <assignedParameter>Claim_StatusMessage</assignedParameter>
                <expression>&quot;One or more mandatory values for the Rebate Claim record are missing.&quot;</expression>
            </assignment>
            <description>Returns a message if one or more mandatory values for the rebate claim are missing.</description>
            <label>Return Empty Rebate Claim Values Message</label>
            <name>ReturnEmptyRebateClaimValuesMessage</name>
            <parentStep>CheckRebateClaimValues</parentStep>
            <resultIncluded>true</resultIncluded>
            <sequenceNumber>1</sequenceNumber>
            <shouldExposExecPathMsgOnly>true</shouldExposExecPathMsgOnly>
            <shouldExposeConditionDetails>false</shouldExposeConditionDetails>
            <shouldShowExplExternally>false</shouldShowExplExternally>
            <stepType>BusinessKnowledgeModel</stepType>
        </steps>
        <steps>
            <actionType>AssignParameterValues</actionType>
            <assignment>
                <assignedParameter>Claim_StatusMessage</assignedParameter>
                <expression>Claim_StatusMessage + &quot;The proposed total claimed quantity is greater than the product quantity of the special pricing term.&quot;</expression>
            </assignment>
            <description>Returns a message if the proposed total claimed quantity is greater than the product quantity of the special pricing term.</description>
            <label>Return Ineligible Proposed Total Claimed Quantity Message</label>
            <name>ReturnIneligibleProposedTotalClaimedQuantityMessage</name>
            <parentStep>CheckProposedTotalClaimedQuantity</parentStep>
            <resultIncluded>true</resultIncluded>
            <sequenceNumber>1</sequenceNumber>
            <shouldExposExecPathMsgOnly>true</shouldExposExecPathMsgOnly>
            <shouldExposeConditionDetails>false</shouldExposeConditionDetails>
            <shouldShowExplExternally>false</shouldShowExplExternally>
            <stepType>BusinessKnowledgeModel</stepType>
        </steps>
        <steps>
            <actionType>AssignParameterValues</actionType>
            <assignment>
                <assignedParameter>Claim_StatusMessage</assignedParameter>
                <expression>Claim_StatusMessage + &quot;The claim date of the rebate claim isn’t within the start and end dates of the rebate program.&quot;</expression>
            </assignment>
            <description>Returns a message if the claim date isn’t within the start and end dates of the rebate program.</description>
            <label>Return Invalid Rebate Claim Date Message</label>
            <name>ReturnInvalidRebateClaimDateMessage</name>
            <parentStep>CheckRebateClaimDate</parentStep>
            <resultIncluded>true</resultIncluded>
            <sequenceNumber>1</sequenceNumber>
            <shouldExposExecPathMsgOnly>true</shouldExposExecPathMsgOnly>
            <shouldExposeConditionDetails>false</shouldExposeConditionDetails>
            <shouldShowExplExternally>false</shouldShowExplExternally>
            <stepType>BusinessKnowledgeModel</stepType>
        </steps>
        <steps>
            <actionType>AssignParameterValues</actionType>
            <assignment>
                <assignedParameter>Claim_StatusMessage</assignedParameter>
                <expression>Claim_StatusMessage + &quot;The sale price per unit is not equal to the sale price per unit of the special pricing term.&quot;</expression>
            </assignment>
            <description>Returns a message if the sale price per unit is not equal to the sale price per unit of the special pricing term.</description>
            <label>Return Invalid Sale Price Per Unit Message</label>
            <name>ReturnInvalidSalePricePerUnitMessage</name>
            <parentStep>CheckSalePricePerUnit</parentStep>
            <resultIncluded>true</resultIncluded>
            <sequenceNumber>1</sequenceNumber>
            <shouldExposExecPathMsgOnly>true</shouldExposExecPathMsgOnly>
            <shouldExposeConditionDetails>false</shouldExposeConditionDetails>
            <shouldShowExplExternally>false</shouldShowExplExternally>
            <stepType>BusinessKnowledgeModel</stepType>
        </steps>
        <steps>
            <advancedCondition>
                <conditionLogic>1</conditionLogic>
                <criteria>
                    <operator>NotEquals</operator>
                    <sequenceNumber>1</sequenceNumber>
                    <sourceFieldName>Claim_ShipToAccount</sourceFieldName>
                    <value>ProgramMember_ShipToAccount</value>
                    <valueType>Parameter</valueType>
                </criteria>
                <resultParameter>condition_output__24</resultParameter>
            </advancedCondition>
            <description>Checks if the ship to account provided in rebate claim is same as configured in rebate program member.</description>
            <label>Return Invalid Ship To Account Message</label>
            <name>ReturnInvalidShipToAccountMessage</name>
            <resultIncluded>false</resultIncluded>
            <sequenceNumber>7</sequenceNumber>
            <shouldExposExecPathMsgOnly>true</shouldExposExecPathMsgOnly>
            <shouldExposeConditionDetails>false</shouldExposeConditionDetails>
            <shouldShowExplExternally>false</shouldShowExplExternally>
            <stepType>AdvancedCondition</stepType>
        </steps>
        <steps>
            <actionType>AssignParameterValues</actionType>
            <assignment>
                <assignedParameter>Claim_StatusMessage</assignedParameter>
                <expression>Claim_StatusMessage + &quot;The ship to account on the rebate claim is not valid.&quot;</expression>
            </assignment>
            <description>Returns a message if the ship to account is not valid as per the rebate program member.</description>
            <label>Return Invalid Ship To Account Message</label>
            <name>ReturnInvalidShipToAccountMessage16</name>
            <parentStep>ReturnInvalidShipToAccountMessage</parentStep>
            <resultIncluded>true</resultIncluded>
            <sequenceNumber>1</sequenceNumber>
            <shouldExposExecPathMsgOnly>true</shouldExposExecPathMsgOnly>
            <shouldExposeConditionDetails>false</shouldExposeConditionDetails>
            <shouldShowExplExternally>false</shouldShowExplExternally>
            <stepType>BusinessKnowledgeModel</stepType>
        </steps>
        <steps>
            <actionType>AssignParameterValues</actionType>
            <assignment>
                <assignedParameter>PricingTerm_IsDiscountByPercent</assignedParameter>
                <expression>PricingTermBenefit_IsDiscountByPercent</expression>
            </assignment>
            <description>Sets the discount by percent from the associated special pricing term benefit if the special pricing term benefit is defined.</description>
            <label>Set Discount By Percent from Special Pricing Term Benefit</label>
            <name>SetDiscountByPercentfromSpecialPricingTermBenefit</name>
            <parentStep>CheckIfSpecialPricingTermBenefitsDefined</parentStep>
            <resultIncluded>false</resultIncluded>
            <sequenceNumber>3</sequenceNumber>
            <shouldExposExecPathMsgOnly>true</shouldExposExecPathMsgOnly>
            <shouldExposeConditionDetails>false</shouldExposeConditionDetails>
            <shouldShowExplExternally>false</shouldShowExplExternally>
            <stepType>BusinessKnowledgeModel</stepType>
        </steps>
        <steps>
            <actionType>AssignParameterValues</actionType>
            <assignment>
                <assignedParameter>PricingTerm_Discount</assignedParameter>
                <expression>PricingTermBenefit_Discount</expression>
            </assignment>
            <description>Sets the discount from the associated special pricing term benefit if the special pricing term benefit is defined.</description>
            <label>Set Discount from Special Pricing Term Benefit</label>
            <name>SetDiscountfromSpecialPricingTermBenefit</name>
            <parentStep>CheckIfSpecialPricingTermBenefitsDefined</parentStep>
            <resultIncluded>false</resultIncluded>
            <sequenceNumber>2</sequenceNumber>
            <shouldExposExecPathMsgOnly>true</shouldExposExecPathMsgOnly>
            <shouldExposeConditionDetails>false</shouldExposeConditionDetails>
            <shouldShowExplExternally>false</shouldShowExplExternally>
            <stepType>BusinessKnowledgeModel</stepType>
        </steps>
        <steps>
            <actionType>AssignParameterValues</actionType>
            <assignment>
                <assignedParameter>PricingTerm_ReferenceUnitPrice</assignedParameter>
                <expression>PricingTermBenefit_ReferenceUnitPrice</expression>
            </assignment>
            <description>Sets the reference price per unit from the associated special pricing term benefit if the special pricing term benefit is defined.</description>
            <label>Set Reference Price from Special Pricing Term Benefit</label>
            <name>SetReferencePricefromSpecialPricingTermBenefit</name>
            <parentStep>CheckIfSpecialPricingTermBenefitsDefined</parentStep>
            <resultIncluded>false</resultIncluded>
            <sequenceNumber>1</sequenceNumber>
            <shouldExposExecPathMsgOnly>true</shouldExposExecPathMsgOnly>
            <shouldExposeConditionDetails>false</shouldExposeConditionDetails>
            <shouldShowExplExternally>false</shouldShowExplExternally>
            <stepType>BusinessKnowledgeModel</stepType>
        </steps>
        <variables>
            <collection>false</collection>
            <dataType>Currency</dataType>
            <decimalPlaces>2</decimalPlaces>
            <description>PricingTerm_SalePricePerUnit</description>
            <input>true</input>
            <name>PricingTerm_SalePricePerUnit</name>
            <output>false</output>
            <type>Variable</type>
        </variables>
        <variables>
            <collection>false</collection>
            <dataType>Boolean</dataType>
            <description>condition_output__4</description>
            <input>false</input>
            <name>condition_output__4</name>
            <output>false</output>
            <type>Variable</type>
            <value>False</value>
        </variables>
        <variables>
            <collection>false</collection>
            <dataType>Boolean</dataType>
            <description>condition_output__3</description>
            <input>false</input>
            <name>condition_output__3</name>
            <output>false</output>
            <type>Variable</type>
            <value>False</value>
        </variables>
        <variables>
            <collection>false</collection>
            <dataType>Numeric</dataType>
            <decimalPlaces>2</decimalPlaces>
            <description>PricingTermBenefit_ReferenceUnitPrice</description>
            <input>true</input>
            <name>PricingTermBenefit_ReferenceUnitPrice</name>
            <output>false</output>
            <type>Variable</type>
        </variables>
        <variables>
            <collection>false</collection>
            <dataType>Date</dataType>
            <decimalPlaces>2</decimalPlaces>
            <description>Program_StartDate</description>
            <input>true</input>
            <name>Program_StartDate</name>
            <output>false</output>
            <type>Variable</type>
        </variables>
        <variables>
            <collection>false</collection>
            <dataType>Text</dataType>
            <decimalPlaces>2</decimalPlaces>
            <description>PricingTerm_Product</description>
            <input>false</input>
            <name>PricingTerm_Product</name>
            <output>false</output>
            <type>Variable</type>
        </variables>
        <variables>
            <collection>false</collection>
            <dataType>Boolean</dataType>
            <description>condition_output__22</description>
            <input>false</input>
            <name>condition_output__22</name>
            <output>false</output>
            <type>Variable</type>
            <value>False</value>
        </variables>
        <variables>
            <collection>false</collection>
            <dataType>Boolean</dataType>
            <description>condition_output__8</description>
            <input>false</input>
            <name>condition_output__8</name>
            <output>false</output>
            <type>Variable</type>
            <value>False</value>
        </variables>
        <variables>
            <collection>false</collection>
            <dataType>Boolean</dataType>
            <decimalPlaces>2</decimalPlaces>
            <description>PricingTerm_IsDiscountByPercent</description>
            <input>false</input>
            <name>PricingTerm_IsDiscountByPercent</name>
            <output>false</output>
            <type>Variable</type>
        </variables>
        <variables>
            <collection>false</collection>
            <dataType>Currency</dataType>
            <decimalPlaces>2</decimalPlaces>
            <description>ClaimAggregate_Amount</description>
            <input>true</input>
            <name>ClaimAggregate_Amount</name>
            <output>true</output>
            <type>Variable</type>
        </variables>
        <variables>
            <collection>false</collection>
            <dataType>Numeric</dataType>
            <decimalPlaces>2</decimalPlaces>
            <description>PricingTerm_Discount</description>
            <input>false</input>
            <name>PricingTerm_Discount</name>
            <output>false</output>
            <type>Variable</type>
        </variables>
        <variables>
            <collection>false</collection>
            <dataType>Numeric</dataType>
            <decimalPlaces>2</decimalPlaces>
            <description>PricingTerm_ReferenceUnitPrice</description>
            <input>false</input>
            <name>PricingTerm_ReferenceUnitPrice</name>
            <output>false</output>
            <type>Variable</type>
        </variables>
        <variables>
            <collection>false</collection>
            <dataType>Boolean</dataType>
            <description>condition_output__6</description>
            <input>false</input>
            <name>condition_output__6</name>
            <output>false</output>
            <type>Variable</type>
            <value>False</value>
        </variables>
        <variables>
            <collection>false</collection>
            <dataType>Text</dataType>
            <decimalPlaces>2</decimalPlaces>
            <description>Claim_Product</description>
            <input>false</input>
            <name>Claim_Product</name>
            <output>false</output>
            <type>Variable</type>
        </variables>
        <variables>
            <collection>false</collection>
            <dataType>Boolean</dataType>
            <description>condition_output__24</description>
            <input>false</input>
            <name>condition_output__24</name>
            <output>false</output>
            <resultStep>ReturnInvalidShipToAccountMessage</resultStep>
            <type>Variable</type>
            <value>False</value>
        </variables>
        <variables>
            <collection>false</collection>
            <dataType>Boolean</dataType>
            <description>condition_output__14</description>
            <input>false</input>
            <name>condition_output__14</name>
            <output>false</output>
            <type>Variable</type>
            <value>False</value>
        </variables>
        <variables>
            <collection>false</collection>
            <dataType>Text</dataType>
            <decimalPlaces>2</decimalPlaces>
            <description>Claim_Status</description>
            <input>false</input>
            <name>Claim_Status</name>
            <output>true</output>
            <type>Variable</type>
            <value>System Processed</value>
        </variables>
        <variables>
            <collection>false</collection>
            <dataType>Date</dataType>
            <decimalPlaces>2</decimalPlaces>
            <description>Claim_ClaimDate</description>
            <input>true</input>
            <name>Claim_ClaimDate</name>
            <output>false</output>
            <type>Variable</type>
        </variables>
        <variables>
            <collection>false</collection>
            <dataType>Boolean</dataType>
            <description>condition_output__2</description>
            <input>false</input>
            <name>condition_output__2</name>
            <output>false</output>
            <type>Variable</type>
            <value>False</value>
        </variables>
        <variables>
            <collection>false</collection>
            <dataType>Numeric</dataType>
            <decimalPlaces>2</decimalPlaces>
            <description>PricingTerm_Quantity</description>
            <input>true</input>
            <name>PricingTerm_Quantity</name>
            <output>false</output>
            <type>Variable</type>
        </variables>
        <variables>
            <collection>false</collection>
            <dataType>Boolean</dataType>
            <description>condition_output__12</description>
            <input>false</input>
            <name>condition_output__12</name>
            <output>false</output>
            <type>Variable</type>
            <value>False</value>
        </variables>
        <variables>
            <collection>false</collection>
            <dataType>Boolean</dataType>
            <description>condition_output__23</description>
            <input>false</input>
            <name>condition_output__23</name>
            <output>false</output>
            <resultStep>CheckRebateClaimValues</resultStep>
            <type>Variable</type>
            <value>False</value>
        </variables>
        <variables>
            <collection>false</collection>
            <dataType>Boolean</dataType>
            <description>condition_output__1</description>
            <input>false</input>
            <name>condition_output__1</name>
            <output>false</output>
            <type>Variable</type>
            <value>False</value>
        </variables>
        <variables>
            <collection>false</collection>
            <dataType>Boolean</dataType>
            <description>condition_output__11</description>
            <input>false</input>
            <name>condition_output__11</name>
            <output>false</output>
            <type>Variable</type>
            <value>False</value>
        </variables>
        <variables>
            <collection>false</collection>
            <dataType>Date</dataType>
            <decimalPlaces>2</decimalPlaces>
            <description>Program_EndDate</description>
            <input>true</input>
            <name>Program_EndDate</name>
            <output>false</output>
            <type>Variable</type>
        </variables>
        <variables>
            <collection>false</collection>
            <dataType>Text</dataType>
            <decimalPlaces>2</decimalPlaces>
            <description>Claim_StatusMessage</description>
            <input>false</input>
            <name>Claim_StatusMessage</name>
            <output>true</output>
            <type>Variable</type>
        </variables>
        <variables>
            <collection>false</collection>
            <dataType>Numeric</dataType>
            <decimalPlaces>2</decimalPlaces>
            <description>Claim_Quantity</description>
            <input>true</input>
            <name>Claim_Quantity</name>
            <output>false</output>
            <type>Variable</type>
        </variables>
        <variables>
            <collection>false</collection>
            <dataType>Text</dataType>
            <decimalPlaces>2</decimalPlaces>
            <description>Claim_ShipToAccount</description>
            <input>true</input>
            <name>Claim_ShipToAccount</name>
            <output>false</output>
            <type>Variable</type>
        </variables>
        <variables>
            <collection>false</collection>
            <dataType>Currency</dataType>
            <decimalPlaces>2</decimalPlaces>
            <description>CalculatedPayoutAmount</description>
            <input>false</input>
            <name>CalculatedPayoutAmount</name>
            <output>true</output>
            <type>Variable</type>
        </variables>
        <variables>
            <collection>false</collection>
            <dataType>Text</dataType>
            <decimalPlaces>2</decimalPlaces>
            <description>POSTransaction_Product</description>
            <input>false</input>
            <name>POSTransaction_Product</name>
            <output>false</output>
            <type>Variable</type>
        </variables>
        <variables>
            <collection>false</collection>
            <dataType>Boolean</dataType>
            <description>condition_output__13</description>
            <input>false</input>
            <name>condition_output__13</name>
            <output>false</output>
            <resultStep>CheckIfDiscountIsInPercent</resultStep>
            <type>Variable</type>
            <value>False</value>
        </variables>
        <variables>
            <collection>false</collection>
            <dataType>Boolean</dataType>
            <description>condition_output__15</description>
            <input>false</input>
            <name>condition_output__15</name>
            <output>false</output>
            <resultStep>CalculateDiscountAmountwithReferencePrice</resultStep>
            <type>Variable</type>
            <value>False</value>
        </variables>
        <variables>
            <collection>false</collection>
            <dataType>Numeric</dataType>
            <decimalPlaces>2</decimalPlaces>
            <description>Proposed_ClaimAggregate_Quantity</description>
            <input>false</input>
            <name>Proposed_ClaimAggregate_Quantity</name>
            <output>false</output>
            <type>Variable</type>
        </variables>
        <variables>
            <collection>false</collection>
            <dataType>Boolean</dataType>
            <description>condition_output__26</description>
            <input>false</input>
            <name>condition_output__26</name>
            <output>false</output>
            <resultStep>CheckSalePricePerUnit</resultStep>
            <type>Variable</type>
            <value>False</value>
        </variables>
        <variables>
            <collection>false</collection>
            <dataType>Currency</dataType>
            <decimalPlaces>2</decimalPlaces>
            <description>Claim_ReferenceUnitPrice</description>
            <input>false</input>
            <name>Claim_ReferenceUnitPrice</name>
            <output>false</output>
            <type>Variable</type>
        </variables>
        <variables>
            <collection>false</collection>
            <dataType>Numeric</dataType>
            <decimalPlaces>0</decimalPlaces>
            <description>Program_GraceDays</description>
            <input>true</input>
            <name>Program_GraceDays</name>
            <output>false</output>
            <type>Variable</type>
        </variables>
        <variables>
            <collection>false</collection>
            <dataType>Numeric</dataType>
            <decimalPlaces>2</decimalPlaces>
            <description>ClaimAggregate_Quantity</description>
            <input>true</input>
            <name>ClaimAggregate_Quantity</name>
            <output>true</output>
            <type>Variable</type>
        </variables>
        <variables>
            <collection>false</collection>
            <dataType>Boolean</dataType>
            <description>condition_output__18</description>
            <input>false</input>
            <name>condition_output__18</name>
            <output>false</output>
            <resultStep>CheckProposedTotalClaimedQuantity</resultStep>
            <type>Variable</type>
            <value>False</value>
        </variables>
        <variables>
            <collection>false</collection>
            <dataType>Boolean</dataType>
            <description>condition_output__16</description>
            <input>false</input>
            <name>condition_output__16</name>
            <output>false</output>
            <resultStep>CheckRebateClaimDate</resultStep>
            <type>Variable</type>
            <value>False</value>
        </variables>
        <variables>
            <collection>false</collection>
            <dataType>Boolean</dataType>
            <description>condition_output__5</description>
            <input>false</input>
            <name>condition_output__5</name>
            <output>false</output>
            <type>Variable</type>
            <value>False</value>
        </variables>
        <variables>
            <collection>false</collection>
            <dataType>Boolean</dataType>
            <description>condition_output__19</description>
            <input>false</input>
            <name>condition_output__19</name>
            <output>false</output>
            <resultStep>CheckWhethertoCalculateClaimandClaimAggregateValues</resultStep>
            <type>Variable</type>
            <value>False</value>
        </variables>
        <variables>
            <collection>false</collection>
            <dataType>Boolean</dataType>
            <description>condition_output__9</description>
            <input>false</input>
            <name>condition_output__9</name>
            <output>false</output>
            <type>Variable</type>
            <value>False</value>
        </variables>
        <variables>
            <collection>false</collection>
            <dataType>Boolean</dataType>
            <description>condition_output__10</description>
            <input>false</input>
            <name>condition_output__10</name>
            <output>false</output>
            <type>Variable</type>
            <value>False</value>
        </variables>
        <variables>
            <collection>false</collection>
            <dataType>Boolean</dataType>
            <decimalPlaces>2</decimalPlaces>
            <description>IsSuccess</description>
            <input>false</input>
            <name>IsSuccess</name>
            <output>false</output>
            <type>Variable</type>
            <value>True</value>
        </variables>
        <variables>
            <collection>false</collection>
            <dataType>Boolean</dataType>
            <description>condition_output__7</description>
            <input>false</input>
            <name>condition_output__7</name>
            <output>false</output>
            <type>Variable</type>
            <value>False</value>
        </variables>
        <variables>
            <collection>false</collection>
            <dataType>Boolean</dataType>
            <decimalPlaces>2</decimalPlaces>
            <description>PricingTermBenefit_IsDiscountByPercent</description>
            <input>true</input>
            <name>PricingTermBenefit_IsDiscountByPercent</name>
            <output>false</output>
            <type>Variable</type>
        </variables>
        <variables>
            <collection>false</collection>
            <dataType>Currency</dataType>
            <decimalPlaces>2</decimalPlaces>
            <description>Claim_SalePricePerUnit</description>
            <input>true</input>
            <name>Claim_SalePricePerUnit</name>
            <output>false</output>
            <type>Variable</type>
        </variables>
        <variables>
            <collection>false</collection>
            <dataType>Boolean</dataType>
            <description>condition_output__21</description>
            <input>false</input>
            <name>condition_output__21</name>
            <output>false</output>
            <resultStep>CheckIfClaimProcessed</resultStep>
            <type>Variable</type>
            <value>False</value>
        </variables>
        <variables>
            <collection>false</collection>
            <dataType>Boolean</dataType>
            <description>condition_output__25</description>
            <input>false</input>
            <name>condition_output__25</name>
            <output>false</output>
            <type>Variable</type>
            <value>False</value>
        </variables>
        <variables>
            <collection>false</collection>
            <dataType>Boolean</dataType>
            <description>condition_output__20</description>
            <input>false</input>
            <name>condition_output__20</name>
            <output>false</output>
            <type>Variable</type>
            <value>False</value>
        </variables>
        <variables>
            <collection>false</collection>
            <dataType>Boolean</dataType>
            <description>condition_output__17</description>
            <input>false</input>
            <name>condition_output__17</name>
            <output>false</output>
            <resultStep>CheckIfSpecialPricingTermBenefitsDefined</resultStep>
            <type>Variable</type>
            <value>False</value>
        </variables>
        <variables>
            <collection>false</collection>
            <dataType>Numeric</dataType>
            <decimalPlaces>2</decimalPlaces>
            <description>PricingTermBenefit_Discount</description>
            <input>true</input>
            <name>PricingTermBenefit_Discount</name>
            <output>false</output>
            <type>Variable</type>
        </variables>
        <variables>
            <collection>false</collection>
            <dataType>Text</dataType>
            <decimalPlaces>2</decimalPlaces>
            <description>ProgramMember_ShipToAccount</description>
            <input>true</input>
            <name>ProgramMember_ShipToAccount</name>
            <output>false</output>
            <type>Variable</type>
        </variables>
        <versionNumber>1</versionNumber>
    </versions>
</ExpressionSetDefinition>
